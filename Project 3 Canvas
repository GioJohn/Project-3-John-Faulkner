<!doctype html>
<html lang="en">
	<head>
	<title>Project 3</title>
	<meta charset="utf-8">
		<style>
		canvas {
		border: 5px solid blue;;
		}
		</style>
	<script>
	var canvas;
	var context;
	var particles;
	var timer;
	var timerRestart;
	function makeParticles() {
		//create an array of particles for our animation
		particles = [];
		for(var i = 0; i < 30; i++)
		{
			particles.push(new Particle());
		}
	}
	function degreesToRadians(degrees) {
		//converts from degrees to radians and returns
		return (degrees * Math.PI)/180;
	}
	function Particle()
	{
		//the constructor for a single particle, with random starting x+y, velocity, color, and radius
		//this.x = Math.random()*canvas.width;
		//this.y = Math.random()*canvas.height;
		 
		this.x = canvas.width/2;
		this.y = canvas.height/2;
		this.vx = Math.random()*10-5;
		this.vy = Math.random()*10-5;
		var colors = ["red", "olive", "cyan", "brown", "magenta", "lime"];
		this.color = colors[Math.floor(Math.random()*colors.length)];
		this.radius = 30;
		
		// Draws a circle at a random location
		function drawCircle(canvas, context, color) {
			var radius = Math.floor(Math.random() * 40);
			var x = Math.floor(Math.random() * canvas.width);
			var y = Math.floor(Math.random() * canvas.height);
			context.beginPath();
			context.arc(x, y, radius, 0, degreesToRadians(360), true);
			context.fillStyle = color;
			context.fill();
		}
	}
	function Particle()
	{
		//the constructor for a single particle, with random starting x+y, velocity, color, and radius
		//this.x = Math.random()*canvas.width;
		//this.y = Math.random()*canvas.height;
		 
		this.x = canvas.width/2;
		this.y = canvas.height/2;
		this.vx = Math.random()*10-5;
		this.vy = Math.random()*10-5;
		var colors = ["olive", "cyan", "brown", "magenta", "lime"];
		this.color = colors[Math.floor(Math.random()*colors.length)];
		this.radius = 30;
	}
	/*
	//Draws Rectangle
			function drawRectangle(canvas, context, color) {
				var size = Math.floor(Math.random() * 40);
				var x = Math.floor(Math.random() * canvas.width);
				var y = Math.floor(Math.random() * canvas.height);
				context.rect(x, y, size, size);
				context.fillStyle = color;
				context.fill();
			}
			//Draw Triangle
			function drawTriangle() {
				var canvas = document.getElementById('canvas');
				if (canvas.getContext){
				var ctx = canvas.getContext('2d');

				ctx.beginPath();
				ctx.moveTo(60,45);
				ctx.lineTo(80,45);
				ctx.lineTo(60,45);
				ctx.fill();
				}
			}
			//Draw Star
			function drawStar() {
			var canvas = document.getElementById("drawLines");
				var context = canvas.getContext("2d")

				canvas.beginPath(); 
				canvas.moveTo(50,50);
				canvas.lineTo(120,150);
				canvas.lineTo(0,180); 
				canvas.lineTo(120,210);
				canvas.lineTo(50,310);  
				canvas.lineTo(160,250);
				canvas.lineTo(190,370);
				canvas.lineTo(220,250);
				canvas.lineTo(330,310);
				canvas.lineTo(260,210);
				canvas.lineTo(380,180);
				canvas.closePath();
				canvas.stroke();
			}	
			//Draw Hexagon
			var numberOfSides = 6,
			size = 20,
			Xcenter = 25,
			Ycenter = 25;

			cxt.beginPath();
			cxt.moveTo (Xcenter +  size * Math.cos(0), Ycenter +  size *  Math.sin(0));          

			for (var i = 1; i <= numberOfSides;i += 1) {
				cxt.lineTo (Xcenter + size * Math.cos(i * 2 * Math.PI / numberOfSides), Ycenter + size * Math.sin(i * 2 * Math.PI / numberOfSides));
			}

			cxt.strokeStyle = "#000000";
			cxt.lineWidth = 1;
			cxt.stroke();
	*/
	
	function moveParticles() {
		//partially clear the screen to fade previous circles, and draw a new particle at each new coordinate
		context.globalCompositeOperation = "source-over";
		context.fillStyle = "rgba(0, 0, 0, 0.3)";
		context.fillRect(0, 0, canvas.width, canvas.height);
		context.globalCompositeOperation = "lighter";
		for(var i = 0; i < particles.length; i++)
		{
			var p = particles[i];
			context.beginPath();
			context.arc(p.x, p.y, p.radius, 0, degreesToRadians(360), true);
			context.fillStyle = p.color;
			context.fill();
			p.x += p.vx;
			p.y += p.vy;
			if(p.x < -50) p.x = canvas.width+50;
			if(p.y < -50) p.y = canvas.height+50;
			if(p.x > canvas.width+50) p.x = -50;
			if(p.y > canvas.height+50) p.y = -50;
			p.radius -= 1;
		}
	}
	function clearScreen(color) {
		//clears the screen and fills with the color of choice
		context.clearRect(0, 0, canvas.width, canvas.height);
		context.fillStyle = color;
		context.fillRect(0, 0, canvas.width, canvas.height);
	}
	function Circle(x, y, color) {
		this.x = x;
		this.y = y;
		this.dx = Math.random()*4-2;
		this.dy = Math.random()*4-2;
		this.color = color;
	  }
	  function draw() {
		var canvas = document.getElementById('canvas');
		if (canvas.getContext) {
			var ctx = canvas.getContext('2d');

		ctx.fillRect(25,25,100,100);
		ctx.clearRect(45,45,60,60);
		ctx.strokeRect(50,50,50,50);
		}
		}
	function handleClick(x, y) {
	     var found = false;
		 for (var i=0; i<circles.length; i++) {
			d = Math.sqrt((circles[i].x - x)*(circles[i].x - x) + (circles[i].y - y)*(circles[i].y - y));
			if (d <= 30) {
				circles.splice(i, 1);
				found = true;
			}
		 }
		 fillBackgroundColor();
		 if (!found) {
			var colors = ["red", "olive", "cyan", "brown", "magenta", "lime"];
			var color = colors[Math.floor(Math.random()*colors.length)];
			circles.push(new Circle(x, y, color));
		}
		for (var i=0; i<circles.length; i++) {
			drawCircle(circles[i]);
		}
	  }
	  function drawCircle(circle) {
		 context.beginPath();
		 context.arc(circle.x, circle.y, 30, 0, degreesToRadians(360), true);
		 context.fillStyle = circle.color;
		 context.fill();
		 if (circle.x + circle.dx > canvas.width || circle.x + circle.dx < 0)
			circle.dx = -circle.dx;
		 if (circle.y + circle.dy > canvas.height || circle.y + circle.dy < 0)
			circle.dy = -circle.dy;
		 circle.x += circle.dx;
		 circle.y += circle.dy;
	  }
      function resizeCanvas() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
		fillBackgroundColor();
		for (var i=0; i<circles.length; i++) {
			drawCircle(circles[i]);
		 }
      }
	  function fillBackgroundColor() {
		 //var colors = ["white", "yellow", "blue", "red"];
		 //var bgColor = colors[Math.floor(Math.random() * colors.length)];
		 context.fillStyle = 'black';
		 context.fillRect(0, 0, canvas.width, canvas.height);
	}
	window.onload = function() {
		canvas = document.getElementById('canvas');
		context = canvas.getContext('2d');
		ctx = canvas.getContext('2d');
			ctx.font = "30px Comic Sans";
			ctx.textAlign = 'center';
				var i, n = 0, 
				components = [0, 0, 0], 
				operations = [1, 2, 3];
				
			function draw(){
			ctx.clearRect(0, 0, 0, 0);
			ctx.fillStyle = "rgb("+components.join(',')+")";
			ctx.textBaseline = 'top'
			  
			// Rotating text
			ctx.save();
			ctx.translate(250, 150);
			ctx.rotate(0.01*n++);
			ctx.textBaseline = 'middle';
			ctx.fillText('Congradulations', 0, 0);
			ctx.restore();
			  
			for(i = 0; i < 3; i++) {
				components[i] += operations[i];
				if ((components[i] >= 256) || (components[i] <= 0)) operations[i] *= -1;
			}  
				/*if (n < 1000)*/ setTimeout(draw, 10);
			}
				draw();
				
		makeParticles();
		timer = setInterval(moveParticles, 100);
		timerRestart = setInterval(makeParticles, 4500);
	}
	</script>
	</head>
	<body>
		<canvas id="canvas" width="500" height="400"></canvas>
	</body>
</html>
